---
import Layout from '../layouts/Layout.astro';
import SignupForm from '../components/signup/SignupForm.astro';

const BASE = import.meta.env.BASE_URL;
const WISE_PAYMENT_URL = 'https://wise.com/pay/r/jhxzrcMaIq5jqzY';

// ——— Page meta (aligned with index) ———
const PAGE_TITLE = "Say the hard thing | Register | VIA CO";
const PAGE_DESCRIPTION = "Free training for P&C folks: improve decision quality in your organisation and get more buy-in from your C-suite.";

// ——— Main page copy (match index hero) ———
const BACK_LABEL = "Back to main";
const MAIN_HEADING_LINE1 = "Say the";
const MAIN_HEADING_LINE2 = "hard thing.";
const INTRO_PARAGRAPH = "A strategic training for P&C Leaders to understand the physiology of conflict, the cost of avoiding it, and how to build a compelling business case that will get your C-suite excited and on-board. Register below to secure your spot.";

// ——— Training block (aligned with index event details) ———
const TRAINING_TITLE = "Training Session";
const TRAINING_BADGE = "Online";
const LOCATION_LABEL = "Location: Link provided upon registration";
const TIME_LABEL = "Time: Thursday, 26th Feb @ 1:00 PM (AEDT)";
const DURATION_NOTE = "45 minutes of high-impact strategy plus 15 minutes of live Q&A.";
const TRAINING_LEAD = "The most expensive mistake is the \"conversation not had.\"";
const TRAINING_BODY = "When we avoid friction, we block innovation. This training is designed specifically for HR professionals and Talent leaders who want to master strategic influence and high-stakes facilitation.";
const TAKEAWAYS_HEADING = "You'll walk away with:";
const TAKEAWAYS = [
  "The organisational entropy audit to quantify the cost of silence in your specific team.",
  "A framework for articulating complex ideas that works with your physiology.",
  "A business case example for what it takes to run a successful team conversation.",
];
const FEE_LABEL = "Registration Fee";
const FEE_AMOUNT = "100 AUD";
const FEE_NOTE = "";
// ——— Form column ———
const FORM_HEADING = "Complete Registration";
const FORM_SUBHEADING = "Secure your place for Say the hard thing.";
const FORM_FOOTER = "By registering, you agree to our privacy policy. Your session link will be provided on the next page.";
const CONTACT_EMAIL = "contact@wearevia.co";
const CONTACT_HELP = "Need help with payment or the meetup? Email us at";

// ——— Form labels (passed to SignupForm) ———
const FORM_LABELS = {
  fullName: "Full Name",
  email: "Email Address",
  organization: "Organisation",
  role: "Role / Title",
  njaCommunityLabel: "Are you part of the NJA community?",
  promoLabel: "Promo Code (Optional)",
  promoPlaceholder: "",
  promoError: "Invalid promo code. Please enter a valid code or complete payment.",
  promoHint: "",
  submitButton: "Register for Event",
  modalTitle: "Complete Payment",
  modalBody: "Please complete payment to proceed with registration. After payment, click the I've completed payment button.",
  modalButton: "I've Completed Payment",
};
---

<Layout title={PAGE_TITLE} description={PAGE_DESCRIPTION}>
  <main class="pt-32 pb-12 lg:pb-24 bg-via-light min-h-0 lg:min-h-[100dvh] lg:min-h-[100vh]">
    <div class="mx-auto max-w-7xl px-6">
      <div class="grid grid-cols-1 lg:grid-cols-2 gap-16 items-start">
        <div class="space-y-12">
          <div>
            <a href={`${BASE}/`} class="text-sm font-semibold uppercase tracking-widest text-via-gray hover:text-via-black transition-colors flex items-center mb-8">
              <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="w-4 h-4 mr-2">
                <path stroke-linecap="round" stroke-linejoin="round" d="M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18" />
              </svg>
              {BACK_LABEL}
            </a>
            <h1 class="font-montserrat font-black text-5xl sm:text-6xl text-via-black uppercase leading-[0.9] tracking-tighter">
              {MAIN_HEADING_LINE1}<br />{MAIN_HEADING_LINE2}
            </h1>
            <p class="mt-6 text-xl text-slate-600 leading-relaxed max-w-xl">
              {INTRO_PARAGRAPH}
            </p>
          </div>

          <div class="space-y-12">
            <div class="p-8 bg-white rounded-2xl border border-slate-100 shadow-sm space-y-6">
              <div class="flex items-start justify-between">
                <h2 class="text-2xl font-bold text-via-black uppercase tracking-tight">
                  {TRAINING_TITLE}
                </h2>
                <span class="px-3 py-1 bg-via-black text-white text-[10px] font-bold uppercase tracking-widest rounded transition-colors group-hover:bg-via-gray">{TRAINING_BADGE}</span>
              </div>
              <div class="text-sm space-y-2 text-via-gray font-medium uppercase tracking-wider">
                <p>{LOCATION_LABEL}</p>
                <p>{TIME_LABEL}</p>
                <p class="normal-case tracking-normal">{DURATION_NOTE}</p>
              </div>
              <div class="prose prose-slate text-slate-600 max-w-none">
                <p class="font-bold text-via-black">{TRAINING_LEAD}</p>
                <p>{TRAINING_BODY}</p>
                <p class="font-bold text-via-black mt-4">{TAKEAWAYS_HEADING}</p>
                <ul class="list-disc pl-5 space-y-2 mt-2">
                  {TAKEAWAYS.map((item) => (
                    <li>{item}</li>
                  ))}
                </ul>
              </div>
              <div class="pt-4 border-t border-slate-50">
                <p class="text-[10px] text-via-gray uppercase font-bold tracking-widest">{FEE_LABEL}</p>
                <p class="text-xl font-black text-via-black">{FEE_AMOUNT}{FEE_NOTE && <span class="text-sm font-normal text-slate-400"> {FEE_NOTE}</span>}</p>
              </div>
            </div>
          </div>
        </div>

        <div class="sticky top-32">
          <div class="bg-via-black text-white p-8 rounded-t-2xl">
            <h3 class="font-montserrat font-bold text-2xl uppercase tracking-tight">{FORM_HEADING}</h3>
            <p class="mt-2 text-slate-400 text-sm">{FORM_SUBHEADING}</p>
          </div>
          <SignupForm labels={FORM_LABELS} paymentUrl={WISE_PAYMENT_URL} contactEmail={CONTACT_EMAIL} contactHelpText={CONTACT_HELP} />
          {FORM_FOOTER && (
            <p class="mt-6 text-center text-sm text-slate-500">
              {FORM_FOOTER}
            </p>
          )}
          <p class="mt-4 text-center text-sm text-slate-500">
            {CONTACT_HELP} <a href={`mailto:${CONTACT_EMAIL}`} class="text-via-black font-semibold hover:underline">{CONTACT_EMAIL}</a>
          </p>
        </div>
      </div>
    </div>
  </main>
</Layout>
